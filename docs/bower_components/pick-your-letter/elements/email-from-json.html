
<dom-module id="email-from-json">
    <template>
      <style>
      :host {
        display: block;
        box-sizing: border-box;
      }
      </style>
      <!-- <paper-input label="Cathy Todo" value="How to read JSON"></paper-input> -->
        <iron-ajax auto
            url="{{url}}"
            handle-as="json"
            params='{"size":"500"}'
            last-response="{{handleResponse}}"></iron-ajax>

        <template is="dom-repeat" items="{{handleResponse}}">
          <div>
            <a href="{{item.loginName}}">{{item.preferredName}}</a>
          </div>
        </template>
    </template>

    <script>
      Polymer({
        is: "email-from-json",
        properties: {
          response: {
            type: String
          },
          office: {
            value: 'melbourne',
            notify: true
          },
          url: {
            computed: 'computeUrl(office)'
          }
        },

        computeUrl: function(office){
          // return ['https://jigsaw.thoughtworks.net/api/people?staffing_office=', office].join('/');
          return ['./aus_',office,'_consultants.json'].join('');
        }
      })
    </script>
</dom-module>
